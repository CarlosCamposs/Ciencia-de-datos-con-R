tinytex::install_tinytex()
library(nycflights13)
library(tidyverse)
library(knitr)
library(moderndive)
library(scales)
library(zoo)
##########
# Cargamos los datos
setwd("C:/Users/Carlos Daniel/Desktop/GitHub/Ciencia-de-datos-con-R/datasets")
flights %>% names()
flights %>% select(carrier,flight)
flights %>%
select(-year) %>% View()
flights %>%
select(month:day,arr_time:arr_delay) %>% names()
### Se puede establecer el orden en que aparecen las variables
flights %>%
select(year:day,hour,minute,time_hour,everything()) %>% View()
flights %>% select(starts_with(("a"))) %>% names()
flights %>% select(contains("time")) %>% names()
flights %>%
select(dep_time,arr_time) %>%
rename("departure_time"=dep_time,
"arrival_time"=arr_time) %>% names()
named_dests %>% flights %>%
group_by(dest) %>%
summarise(num_flights=n()) %>%
inner_join(airports[,c("faa","name")],by=c("dest"="faa")) %>%
arrange(-num_flights) %>%
head(10)
named_dests %>% flights %>%
group_by(dest) %>%
summarise(num_flights=n()) %>%
inner_join(airports[,c("faa","name")],by=c("dest"="faa")) %>%
top_n(10,wt=nu_flights)
named_dests %>% flights %>%
group_by(dest) %>%
summarise(num_flights=n())
named_dests %>% flights
# ------------------------------------------------------------------------------
# top_n(): devuelve los primeros "n" valores de una variable
library(nycflights13)
named_dests %>% flights %>%
group_by(dest) %>%
summarise(num_flights=n()) %>%
inner_join(airports[,c("faa","name")],by=c("dest"="faa")) %>%
top_n(10,wt=nu_flights)
named_dests <-  flights %>%
group_by(dest) %>%
summarise(num_flights=n()) %>%
inner_join(airports[,c("faa","name")],by=c("dest"="faa")) %>%
top_n(10,wt=nu_flights)
named_dests <-  flights %>%
group_by(dest)
named_dests <-  flights %>%
group_by(dest) %>%
summarise(num_flights=n())
named_dests <-  flights %>%
group_by(dest) %>%
summarise(num_flights=n()) %>%
inner_join(airports[,c("faa","name")],by=c("dest"="faa"))
named_dests <-  flights %>%
group_by(dest) %>%
summarise(num_flights=n()) %>%
inner_join(airports[,c("faa","name")],by=c("dest"="faa")) %>%
top_n(10,wt=nu_flights)
named_dests <-  flights %>%
group_by(dest) %>%
summarise(num_flights=n()) %>%
inner_join(airports[,c("faa","name")],by=c("dest"="faa")) %>%
top_n(10,wt=num_flights)
# 1. "wt" se lee como "con respecto a "
named_dests
flights %>%
group_by(dest) %>%
summarise(total=n())
flights %>%
n_distinct(dest)
flights %>% n_distinct()
mi_data <- data.frame("col1"=c("Luis","Ana","Luis"),
"col2"=c("H","M","H"),
"col3"=c(12,13,12))
mi_data %>% distinct()
mi_data_2 %>%
group_by(col1) %>%
summarise(conteo=n_distinct(col3))
mi_data_2 <- data.frame("col1"=c("Luis","Ana","Luis"),
"col2"=c("H","M","H"),
"col3"=c(12,13,10))
mi_data_2 %>%
group_by(col1) %>%
summarise(conteo=n_distinct(col3))
